<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Love Confession ğŸ’—</title>

<style>
:root{--pink:#ff6f91}
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"PingFang SC",sans-serif;
  text-align:center;
  color:#333;
  background:linear-gradient(120deg,#ff9a9e,#fad0c4,#ffd1e8);
  background-size:200% 200%;
  animation:bgMove 12s ease infinite;
}
@keyframes bgMove{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

.page{
  display:none;
  min-height:100vh;
  padding:28px 20px;
  animation:fade .8s ease;
}
.page.active{display:block}
@keyframes fade{
  from{opacity:0;transform:translateY(40px)}
  to{opacity:1}
}

img{
  max-width:90%;
  border-radius:20px;
  margin:20px 0;
  box-shadow:0 10px 30px rgba(0,0,0,.15);
}

button{
  padding:12px 32px;
  border:none;
  border-radius:999px;
  background:var(--pink);
  color:white;
  font-size:16px;
  cursor:pointer;
  transition:.3s;
}
button:hover{transform:scale(1.06)}

input{
  width:80%;
  padding:12px;
  font-size:16px;
  border-radius:14px;
  border:1px solid #ddd;
}

/* popup */
#popup{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.5);
  align-items:center;
  justify-content:center;
  z-index:999;
}
#popup>div{
  background:white;
  padding:24px;
  border-radius:20px;
}

/* falling hearts */
.heart{
  position:fixed;
  top:-20px;
  font-size:18px;
  animation:fall linear forwards;
  pointer-events:none;
  z-index:9999;
}
@keyframes fall{
  to{transform:translateY(110vh) rotate(360deg);opacity:0}
}

/* explode hearts */
.boom-heart{
  position:fixed;
  left:50%;
  top:50%;
  font-size:24px;
  animation:boom 1s ease-out forwards;
  pointer-events:none;
  z-index:9999;
}
@keyframes boom{
  0%{transform:translate(-50%,-50%) scale(0);opacity:0}
  30%{opacity:1;transform:translate(-50%,-50%) scale(1.4)}
  100%{
    transform:
      translate(calc(-50% + var(--x)),calc(-50% + var(--y)))
      scale(.3);
    opacity:0;
  }
}

/* fireworks */
#fireworks{
  position:fixed;
  inset:0;
  pointer-events:none;
}

/* ending text */
.final-text{
  margin-top:30px;
  font-size:32px;
  color:#ff4d79;
  animation:loveGlow 2.5s ease-in-out infinite;
}
@keyframes loveGlow{
  0%{opacity:.6;transform:scale(1)}
  50%{opacity:1;transform:scale(1.08)}
  100%{opacity:.6;transform:scale(1)}
}
</style>
</head>

<body>

<!-- MUSIC -->
<iframe width="1" height="1"
src="https://www.youtube.com/embed/Kg-mW8SyNVg?autoplay=1&mute=1&loop=1&playlist=Kg-mW8SyNVg"
allow="autoplay"></iframe>

<canvas id="fireworks"></canvas>

<!-- POPUP -->
<div id="popup">
  <div>
    <div id="popupText"></div><br>
    <button onclick="popup.style.display='none'">OK ğŸ’—</button>
  </div>
</div>

<!-- PAGE 1 -->
<div class="page active" id="p1">
  <img src="page1.png">
  <h1>Welcome ğŸ’—</h1>
  <button onclick="go(2)">å¼€å§‹</button>
</div>

<!-- PAGE 2 -->
<div class="page" id="p2">
  <img src="page2.png">
  <h2>æˆ‘ä»¬ç¬¬ä¸€æ¬¡å•ç‹¬å‡ºå»ç©æ˜¯å“ªä¸€å¤©ï¼Ÿ</h2>
  <input id="answer1">
  <br><br>
  <button onclick="checkDate()">ç¡®è®¤</button>
</div>

<!-- PAGE 3 -->
<div class="page" id="p3">
  <img src="page3.png">
  <h1>1 / 3 / 2025 ğŸ’—</h1>
  <button onclick="go(4)">ç»§ç»­</button>
</div>

<!-- PAGE 4 -->
<div class="page" id="p4">
  <h2>ä½ çˆ±æˆ‘å—ï¼Ÿ</h2>
  <input id="answer2" placeholder="è¯·è¾“å…¥ç­”æ¡ˆ" oninput="liveCheckLove()">
</div>

<!-- PAGE 5 -->
<div class="page" id="p5">
  <h2>ç‚¹å¼€æ¯ä¸€å¼ å¡ç‰‡ ğŸ’•</h2>
</div>

<!-- END -->
<div class="page" id="p14">
  <img src="page14.png">
  <h1 class="final-text">æˆ‘çˆ±ä½ ï¼Œä¸æ­¢ä»Šå¤© ğŸ’Œ</h1>
</div>

<script>
function vibrateSoft(p=[20]){
  if(navigator.vibrate) navigator.vibrate(p);
}

function go(n){
  vibrateSoft();
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById("p"+n).classList.add('active');
}

function show(t){
  popupText.innerText=t;
  popup.style.display="flex";
}

function checkDate(){
  const v=answer1.value.trim();
  if(["1/3/2025","01/03/2025","2025-03-01"].includes(v)) go(3);
  else show("å†æƒ³æƒ³å“¦ ğŸ’­");
}

/* hearts rain */
setInterval(()=>{
  const h=document.createElement("div");
  h.className="heart";
  h.innerText="ğŸ’—";
  h.style.left=Math.random()*100+"vw";
  h.style.animationDuration=4+Math.random()*3+"s";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),7000);
},600);

/* explode */
function explodeHearts(){
  for(let i=0;i<36;i++){
    const h=document.createElement("div");
    h.className="boom-heart";
    h.innerText="ğŸ’—";
    h.style.setProperty("--x",(Math.random()*300-150)+"px");
    h.style.setProperty("--y",(Math.random()*300-150)+"px");
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),1000);
  }
}

function liveCheckLove(){
  if(answer2.value.trim()==="éå¸¸çˆ±ä½ "){
    explodeHearts();
    vibrateSoft([30,40,30]);
    setTimeout(()=>go(5),900);
  }
}

/* fireworks heart */
const c=document.getElementById("fireworks"),ctx=c.getContext("2d");
c.width=innerWidth;c.height=innerHeight;
window.onresize=()=>{c.width=innerWidth;c.height=innerHeight};
let ps=[];
function heart(t){
  return{
    x:16*Math.pow(Math.sin(t),3),
    y:-(13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t))
  };
}
function launch(){
  if(!document.getElementById("p14").classList.contains("active"))return;
  for(let i=0;i<120;i++){
    const t=Math.random()*Math.PI*2,h=heart(t);
    ps.push({x:c.width/2,y:200,vx:h.x*.15,vy:h.y*.15,a:1});
  }
}
function anim(){
  ctx.clearRect(0,0,c.width,c.height);
  ps.forEach((p,i)=>{
    p.x+=p.vx;p.y+=p.vy;p.a-=.012;
    ctx.globalAlpha=p.a;
    ctx.fillStyle="#ff6f91";
    ctx.beginPath();
    ctx.arc(p.x,p.y,2.2,0,7);
    ctx.fill();
    if(p.a<=0) ps.splice(i,1);
  });
  requestAnimationFrame(anim);
}
anim();
setInterval(launch,1400);
</script>

</body>
</html>
